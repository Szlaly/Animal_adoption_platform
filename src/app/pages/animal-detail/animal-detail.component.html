<div *ngIf="animal; else loading" class="animal-detail">
  <h2>{{ animal.name }}</h2>
  <img [src]="'http://localhost:5000' + animal.imageUrl" alt="{{animal.name}}">
  <p><strong>Faj:</strong> {{ animal.species }}</p>
  <p><strong>Fajta:</strong> {{ animal.breed }}</p>
  <p><strong>Kor:</strong> {{ animal.age }} √©v</p>
  <p><strong>Le√≠r√°s:</strong> {{ animal.description }}</p>
  <p><strong>Eg√©szs√©gi √°llapot:</strong> {{ animal.health }}</p>
  <div class="story-section" *ngIf="animal?.story">
  <h3>√âlett√∂rt√©net</h3>
  <p>{{ animal.story }}</p>
</div>

  <button *ngIf="isLoggedIn()" (click)="toggleFavorite()">
    {{ isFavorite ? 'üíî Elt√°vol√≠t√°s a kedvencekb≈ël' : '‚ù§Ô∏è Hozz√°ad√°s a kedvencekhez' }}
  </button>

  <button *ngIf="isAdmin" (click)="editAnimal()">Szerkeszt√©s</button>
  <button *ngIf="isAdmin" (click)="toggleUpdateBox()">‚ûï Friss√≠t√©s hozz√°ad√°sa</button>

<div *ngIf="showUpdateBox">
  <textarea [(ngModel)]="newUpdateText" rows="4" cols="50" placeholder="√çrj ide egy √∫j friss√≠t√©st..."></textarea>
  <br>
  <button (click)="submitUpdate()">üì© K√ºld√©s</button>
</div>

<div *ngIf="animal?.updates?.length" class="updates-list">
  <h3>Friss√≠t√©sek</h3>
  <ul>
    <li *ngFor="let update of animal.updates">
       {{ update }}
    </li>
  </ul>
</div>
</div>


<ng-template #loading>
  <p>Bet√∂lt√©s...</p>
</ng-template>
