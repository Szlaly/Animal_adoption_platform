
    <!-- src/app/pages/admin-dashboard/admin-dashboard.component.html -->
<div class="admin-dashboard">
  <h2>üìã √ñr√∂kbefogad√°si k√©relmek</h2>

  <p *ngIf="errorMessage" class="error">{{ errorMessage }}</p>

  <div *ngIf="adoptionRequests.length === 0 && !errorMessage">
    <p>Nincs jelenleg √∂r√∂kbefogad√°si k√©relem.</p>
  </div>

  <div *ngFor="let request of adoptionRequests" class="adoption-card">
    <p><strong>√Ållat:</strong> {{ request.animal?.name || 'Ismeretlen √°llat' }}</p>
    <p><strong>Faj:</strong> {{ request.animal?.species || '-' }}</p>
    <p><strong>Jelentkez≈ë:</strong> {{ request.user?.username || 'Ismeretlen felhaszn√°l√≥' }}</p>
    <p><strong>Email:</strong> {{ request.user.email }}</p>
    <p><strong>√úzenet:</strong> {{ request.message || '-' }}</p>
    <p><strong>St√°tusz:</strong> {{ request.status }}</p>

    <label>Tal√°lkoz√≥ id≈ëpontja:</label>
    <input type="datetime-local" [(ngModel)]="request.meetingDate" />

    <button (click)="updateRequestStatus(request._id, 'approved', request.meetingDate)">‚úîÔ∏è J√≥v√°hagy√°s</button>
    <button (click)="updateRequestStatus(request._id, 'rejected')">‚ùå Elutas√≠t√°s</button>
  </div>
</div>
<div class="support-requests">
  <h3>üõ†Ô∏è Be√©rkezett support k√©r√©sek</h3>

  <div *ngIf="supportRequests.length > 0; else noSupport">
    <div *ngFor="let req of supportRequests" class="support-request">
      <h4>{{ req.subject }}</h4>
      <p><strong>Felhaszn√°l√≥:</strong> {{ req.user?.name }} ({{ req.user?.email }})</p>
      <p><strong>√Ållapot:</strong> {{ req.status }}</p>

      <div class="messages">
        <div *ngFor="let msg of req.messages"
             [ngClass]="{ 'own-message': isOwnMessage(msg.sender._id), 'other-message': !isOwnMessage(msg.sender._id) }">
          <p><strong>{{ msg.sender.name }}:</strong></p>
          <p>{{ msg.text }}</p>
          <p class="timestamp" *ngIf="msg.sentAt">{{ msg.sentAt | date:'short' }}</p>
        </div>
      </div>

      <div class="reply-form">
        <textarea [(ngModel)]="newResponse[req._id]" placeholder="√çrj v√°laszt..."></textarea>
        <button (click)="sendResponse(req._id)">V√°lasz k√ºld√©se</button>
      </div>
    </div>
  </div>

  <ng-template #noSupport>
    <p>M√©g nem √©rkezett support k√©r√©s.</p>
  </ng-template>
</div>


