
    <!-- src/app/pages/admin-dashboard/admin-dashboard.component.html -->
<div class="admin-dashboard">
  <h2>ğŸ“‹ Ã–rÃ¶kbefogadÃ¡si kÃ©relmek</h2>

  <p *ngIf="errorMessage" class="error">{{ errorMessage }}</p>

  <div *ngIf="adoptionRequests.length === 0 && !errorMessage">
    <p>Nincs jelenleg Ã¶rÃ¶kbefogadÃ¡si kÃ©relem.</p>
  </div>

  <div *ngFor="let request of adoptionRequests" class="adoption-card">
    <p><strong>Ãllat:</strong> {{ request.animal?.name || 'Ismeretlen Ã¡llat' }}</p>
    <p><strong>Faj:</strong> {{ request.animal?.species || '-' }}</p>
    <p><strong>JelentkezÅ‘:</strong> {{ request.user?.username || 'Ismeretlen felhasznÃ¡lÃ³' }}</p>
    <p><strong>Email:</strong> {{ request.user.email }}</p>
    <p><strong>Ãœzenet:</strong> {{ request.message || '-' }}</p>
    <p><strong>StÃ¡tusz:</strong> {{ request.status }}</p>

    <label>TalÃ¡lkozÃ³ idÅ‘pontja:</label>
    <input type="datetime-local" [(ngModel)]="request.meetingDate" />

    <button (click)="updateRequestStatus(request._id, 'approved', request.meetingDate)">âœ”ï¸ JÃ³vÃ¡hagyÃ¡s</button>
    <button (click)="updateRequestStatus(request._id, 'rejected')">âŒ ElutasÃ­tÃ¡s</button>
  </div>
</div>
<div class="support-requests">
    <h3>ğŸ› ï¸ BeÃ©rkezett support kÃ©rÃ©sek</h3>
    <div *ngIf="supportRequests.length > 0; else noSupport">
      <div *ngFor="let request of supportRequests" 
           class="support-request" 
           [ngClass]="{ 'closed': request.status }">
        <p><strong>FelhasznÃ¡lÃ³:</strong> {{ request.user?.name }} ({{ request.user?.email }})</p>
        <p><strong>TÃ¡rgy:</strong> {{ request.subject }}</p>
        <p><strong>DÃ¡tum:</strong> {{ request.createdAt | date:'mediumDate' }}</p>
        <p><strong>StÃ¡tusz:</strong> {{ request.status }}</p>

        <div class="messages">
          <div *ngFor="let msg of request.messages" class="message">
            <p><strong>{{ msg.sender.name }}:</strong> {{ msg.text }}</p>
            <p class="timestamp">{{ msg.sentAt | date:'short' }}</p>
          </div>
        </div>

        <div *ngIf="request.status === 'open' && isAdmin()">
  <textarea [(ngModel)]="newResponse[request._id]" placeholder="Ãrj vÃ¡laszod..."></textarea>
  <button (click)="sendResponse(request._id)">VÃ¡lasz kÃ¼ldÃ©se</button>
  <button class="close-button" (click)="closeRequest(request._id)">ğŸ”’ LezÃ¡rÃ¡s</button>
</div>

<div *ngIf="request.status === 'closed'" class="closed-label">
  ğŸŸ¢ LezÃ¡rva
</div>

      </div>
    </div>
    <ng-template #noSupport>
      <p>MÃ©g nem Ã©rkezett support kÃ©rÃ©s.</p>
    </ng-template>
  </div>



